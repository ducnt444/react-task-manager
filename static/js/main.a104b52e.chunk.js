(this["webpackJsonpreact-task-manager"]=this["webpackJsonpreact-task-manager"]||[]).push([[0],{126:function(t,e,a){},127:function(t,e,a){},191:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),c=a(12),i=a.n(c),o=a(15),r=(a(126),a(127),a(98)),d=a(99),l=a(97),j=a(96),u=a(11),b="TOGGLE_LOADING",h="GET_TASK_LIST",O=a(28),m=function(t){return{type:b,payload:{status:t}}},f=Object(O.a)("MODAL_CONTENT",(function(t){return{payload:{content:t}}})),k=Object(O.a)("MODAL_VISIBLE",(function(t){return{payload:{isVisible:t}}})),p=Object(O.a)("MODAL_LOADING",(function(t){return{payload:{isLoading:t}}})),x=Object(O.a)("ADD_TASK",(function(t){return{payload:{newTask:t}}})),g=Object(O.a)("EDIT_TASK",(function(t){return{payload:{editedTask:t}}})),y=Object(O.a)("COMPLETE_TASK",(function(t){return{payload:{completeTask:t}}})),D=Object(O.a)("DELETE _TASK",(function(t,e){return{payload:{mode:t,deleteId:e}}})),v=a(29),N=a.n(v),T=a(5),L=function(t){var e=t.task,a=t.toastSuccess,n=t.toastWarning,s=Object(u.f)(),c=Object(o.b)(),i=new Intl.DateTimeFormat([],{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"2-digit",day:"2-digit"}),b=e.taskDate,h=i.format(new Date(b)),O=function(){return c(m(!0)),function(t){return(s=e.id,c=e.isDone,N.a.patch("https://test-heroku444.herokuapp.com/tasks/".concat(s),{isDone:!c})).then((function(e){t(y(e.data)),t(m(!1)),e.data.isDone?a("Task is completed"):n("Task is uncompleted")}));var s,c}};return Object(T.jsxs)("div",{className:"taskItem",children:[Object(T.jsxs)("div",{className:"taskContent",children:[Object(T.jsx)("h3",{className:"taskName",children:e.taskName}),Object(T.jsx)("h4",{className:"taskDate",children:h})]}),Object(T.jsx)("button",{className:"doneBtn",onClick:function(){return c(O())},children:e.isDone?Object(T.jsx)(j.a,{}):Object(T.jsx)(l.a,{})}),Object(T.jsx)("button",{className:"editBtn",onClick:function(){return s.push("/edit-task/".concat(e.id))},children:Object(T.jsx)(r.a,{})}),Object(T.jsx)("button",{className:"deleteBtn",onClick:function(){c(D("attemptDelete",e.id)),c(f("Do you want to delete this task")),c(k(!0))},children:Object(T.jsx)(d.a,{})})]})},C=a(100),S=a(31),E=function(t){var e=t.tasks,a=t.toastSuccess,n=t.toastWarning,s=e.filter((function(t){return!0===t.isDone})),c=e.filter((function(t){return!1===t.isDone}));return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("header",{children:[Object(T.jsx)("h1",{children:"Task Manager by React"}),Object(T.jsxs)("div",{className:"header-content",children:[Object(T.jsxs)("div",{className:"statistics-area",children:[Object(T.jsxs)("div",{className:"statistics",onClick:function(){return document.getElementById("doneTasks").scrollIntoView({behavior:"smooth"})},children:[Object(T.jsx)("div",{className:"header-item",children:s.length}),Object(T.jsx)("span",{className:"statistics-text",children:"Completed"})]}),Object(T.jsxs)("div",{className:"statistics",onClick:function(){return document.getElementById("todoTasks").scrollIntoView({behavior:"smooth"})},children:[Object(T.jsx)("div",{className:"header-item",children:c.length}),Object(T.jsx)("span",{className:"statistics-text",children:"Ongoing"})]})]}),Object(T.jsx)("button",{className:"header-item header-btn",children:Object(T.jsxs)(S.b,{to:"/add-task",children:[Object(T.jsx)("span",{children:"Add"})," ",Object(T.jsx)(C.a,{})]})})]})]}),Object(T.jsx)("main",{children:Object(T.jsxs)("div",{className:"home",children:[Object(T.jsxs)("div",{id:"todoTasks",children:[Object(T.jsx)("h2",{children:"Ongoing tasks: "}),c.map((function(t){return Object(T.jsx)(L,{task:t,toastSuccess:a,toastWarning:n},t.id)}))]}),Object(T.jsxs)("div",{id:"doneTasks",children:[Object(T.jsx)("h2",{children:"Completed tasks: "}),s.map((function(t){return Object(T.jsx)(L,{task:t,toastSuccess:a,toastWarning:n},t.id)}))]})]})})]})},I=a(200),A=function(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.modalState.isLoading})),a=Object(o.c)((function(t){return t.modalState.isVisible})),n=Object(o.c)((function(t){return t.modalState.modalContent})),s=Object(o.c)((function(t){return t.taskState.deleteID}));return Object(T.jsx)(I.a,{visible:a,confirmLoading:e,onOk:function(){t((function(t){return function(t){return N.a.delete("https://test-heroku444.herokuapp.com/tasks/".concat(t))}(s).then((function(){t(D("confirmDelete",s)),t(p(!0)),t(k(!1))}))}))},onCancel:function(){t(k(!1))},children:Object(T.jsx)("p",{className:"modalContent",children:n})})},w=a(46),F=a(61),_=a.n(F),M=(a(94),a(150)),B=function(t){var e=t.toggleLoading,a=t.toastSuccess,s=t.toastError,c=Object(o.b)(),i=(Object(u.f)(),Object(n.useState)("")),r=Object(w.a)(i,2),d=r[0],l=r[1],j=Object(n.useState)(null),b=Object(w.a)(j,2),h=b[0],O=b[1];function m(){e(!0);var t={taskName:d,taskDate:h,isDone:!1};return function(n){return(s=t,N.a.post("https://test-heroku444.herokuapp.com/tasks",s)).then((function(t){n(x(t.data)),l(""),O(""),e(!1),a("Task added successfully")}));var s}}return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("header",{children:[Object(T.jsx)("h1",{children:"Add task"}),Object(T.jsx)("div",{className:"header-content",children:Object(T.jsx)("button",{className:"header-item header-btn",children:Object(T.jsx)(S.b,{to:"/",children:Object(T.jsx)("span",{children:"Back"})})})})]}),Object(T.jsxs)("main",{children:[Object(T.jsxs)("div",{className:"form-item",children:[Object(T.jsx)("label",{htmlFor:"taskName",children:"Add task:"}),Object(T.jsx)("input",{type:"text",id:"taskName",value:d,onChange:function(t){l(t.target.value)}})]}),Object(T.jsxs)("div",{className:"form-item",children:[Object(T.jsx)("label",{htmlFor:"taskDate",children:"Task date:"}),Object(T.jsx)(_.a,{dateFormat:"dd/MM/yyyy",selected:h,onChange:function(t){O(t)},minDate:Object(M.default)(new Date,0)})]}),Object(T.jsx)("button",{onClick:function(){""!==d&&null!==h?c(m()):s("Please fill in both fields")},className:"confirm-btn blue-text-btn btn",children:"Confirm"})]})]})},V=a.p+"static/media/react-logo-min.90175bd1.png",K=function(t){var e=t.isLoading;return Object(T.jsx)("div",{className:"loading ".concat(e?"show":""),children:Object(T.jsx)("img",{src:V,alt:"loading"})})},P=a(187),W=function(t){var e=t.toggleLoading,a=t.toastSuccess,s=t.toastError,c=Object(o.b)(),i=Object(u.g)().id,r=(Object(u.f)(),Object(n.useState)("")),d=Object(w.a)(r,2),l=d[0],j=d[1],b=Object(n.useState)(null),h=Object(w.a)(b,2),O=h[0],m=h[1];Object(n.useEffect)((function(){e(!0),N.a.get("https://test-heroku444.herokuapp.com/tasks/".concat(i)).then((function(t){j(t.data.taskName),m(Object(P.default)(t.data.taskDate)),e(!1)}))}),[]);function f(){e(!0);var t={taskName:l,taskDate:O};return function(n){return(s=t,N.a.patch("https://test-heroku444.herokuapp.com/tasks/".concat(i),s)).then((function(t){n(g(t.data)),e(!1),a("Task edited successfully")}));var s}}return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("header",{children:[Object(T.jsx)("h1",{children:"Edit task"}),Object(T.jsx)("div",{className:"header-content",children:Object(T.jsx)("button",{className:"header-item header-btn",children:Object(T.jsx)(S.b,{to:"/",children:Object(T.jsx)("span",{children:"Back"})})})})]}),Object(T.jsxs)("main",{children:[Object(T.jsxs)("div",{className:"form-item",children:[Object(T.jsx)("label",{htmlFor:"taskName",children:"Edit task:"}),Object(T.jsx)("input",{type:"text",id:"taskName",value:l,onChange:function(t){j(t.target.value)}})]}),Object(T.jsxs)("div",{className:"form-item",children:[Object(T.jsx)("label",{htmlFor:"taskDate",children:"Task date:"}),Object(T.jsx)(_.a,{dateFormat:"dd/MM/yyyy",selected:O,onChange:function(t){m(t)},minDate:Object(M.default)(new Date,0)})]}),Object(T.jsx)("button",{onClick:function(){""!==l&&null!==O?c(f()):s("Please fill in both fields")},className:"confirm-btn blue-text-btn btn",children:"Confirm"})]})]})},G=a(47);a(189);var H=function(){var t=function(t){return G.c.success(t)},e=function(t){return G.c.error(t)},a=Object(o.b)(),s=Object(o.c)((function(t){return t.loadingState.isLoading})),c=function(t){a(m(t))},i=Object(o.c)((function(t){return t.taskState.taskList}));function r(){return function(t){return N.a.get("https://test-heroku444.herokuapp.com/tasks").then((function(e){return t(function(t){return{type:h,payload:{taskList:t}}}(e.data))}))}}return Object(n.useEffect)((function(){c(!0),a(r()),c(!1)}),[]),Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(K,{isLoading:s}),Object(T.jsx)(G.b,{transition:G.a,className:"customizedToast",position:"bottom-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1}),Object(T.jsx)(A,{}),Object(T.jsxs)(u.c,{children:[Object(T.jsx)(u.a,{path:"/add-task",children:Object(T.jsx)(B,{toggleLoading:c,toastSuccess:t,toastError:e})}),Object(T.jsx)(u.a,{path:"/edit-task/:id",children:Object(T.jsx)(W,{toggleLoading:c,toastSuccess:t,toastError:e})}),Object(T.jsx)(u.a,{path:"/",children:Object(T.jsx)(E,{tasks:i,toastSuccess:t,toastWarning:function(t){return G.c.warn(t)}})})]})]})},J=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),s(t),c(t),i(t)}))},R=a(19),z=a(39),Z=Object(O.b)({taskList:[],deleteID:null},(function(t){t.addCase(h,(function(t,e){t.taskList=e.payload.taskList})).addCase("ADD_TASK",(function(t,e){t.taskList.push(e.payload.newTask)})).addCase(g,(function(t,e){t.taskList=t.taskList.map((function(t){return t.id===e.payload.editedTask.id?Object(z.a)(Object(z.a)({},t),{},{taskName:e.payload.editedTask.taskName,taskDate:e.payload.editedTask.taskDate,isDone:e.payload.editedTask.isDone}):t}))})).addCase(y,(function(t,e){t.taskList=t.taskList.map((function(t){return t.id===e.payload.completeTask.id?Object(z.a)(Object(z.a)({},t),{},{isDone:e.payload.completeTask.isDone}):t}))})).addCase(D,(function(t,e){"attemptDelete"===e.payload.mode?t.deleteID=e.payload.deleteId:"confirmDelete"===e.payload.mode&&(t.taskList=t.taskList.filter((function(e){return e.id!==t.deleteID})))}))})),q=Object(O.b)({modalContent:"",isVisible:!1,isLoading:!1},(function(t){t.addCase(f,(function(t,e){t.modalContent=e.payload.content})).addCase(k,(function(t,e){t.isVisible=e.payload.isVisible})).addCase(p,(function(t,e){t.isLoading=e.payload.isLoading}))})),Q=Object(R.combineReducers)({loadingState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(z.a)(Object(z.a)({},t),{},{isLoading:e.payload.status});default:return t}},taskState:Z,modalState:q}),U=a(113),X=[a(51).a],Y=Object(R.createStore)(Q,Object(U.composeWithDevTools)(R.applyMiddleware.apply(void 0,X)));i.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(S.a,{children:Object(T.jsx)(o.a,{store:Y,children:Object(T.jsx)(H,{})})})}),document.getElementById("root")),J()}},[[191,1,2]]]);
//# sourceMappingURL=main.a104b52e.chunk.js.map