(this["webpackJsonpreact-task-manager"]=this["webpackJsonpreact-task-manager"]||[]).push([[0],{126:function(t,e,a){},127:function(t,e,a){},191:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),c=a(12),i=a.n(c),o=a(13),r=(a(126),a(127),a(52)),d=a(100),l=a(99),j=a(98),u=a(11),b="TOGGLE_LOADING",h="GET_TASK_LIST",O=a(21),m=function(t){return{type:b,payload:{status:t}}},f=Object(O.a)("LOGIN_SIGNUP",(function(t){return{payload:{userInput:t}}})),p=Object(O.a)("LOGOUT"),x=Object(O.a)("MODAL_CONTENT",(function(t){return{payload:{content:t}}})),k=Object(O.a)("MODAL_VISIBLE",(function(t){return{payload:{isVisible:t}}})),g=Object(O.a)("MODAL_LOADING",(function(t){return{payload:{isLoading:t}}})),v=Object(O.a)("ADD_TASK",(function(t){return{payload:{newTask:t}}})),N=Object(O.a)("EDIT_TASK",(function(t){return{payload:{editedTask:t}}})),y=Object(O.a)("COMPLETE_TASK",(function(t){return{payload:{completeTask:t}}})),L=Object(O.a)("DELETE _TASK",(function(t,e){return{payload:{mode:t,deleteId:e}}})),D=a(23),C=a.n(D),S=a(3),T=function(t){var e=t.task,a=t.toastSuccess,n=t.toastWarning,s=Object(u.f)(),c=Object(o.b)(),i=new Intl.DateTimeFormat([],{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"2-digit",day:"2-digit"}),b=e.taskDate,h=i.format(new Date(b)),O=function(){return c(m(!0)),function(t){return(s=e.id,c=e.isDone,C.a.patch("https://test-heroku444.herokuapp.com/tasks/".concat(s),{isDone:!c})).then((function(e){t(y(e.data)),t(m(!1)),e.data.isDone?a("Task is completed"):n("Task is uncompleted")}));var s,c}};return Object(S.jsxs)("div",{className:"taskItem",children:[Object(S.jsxs)("div",{className:"taskContent",children:[Object(S.jsx)("h3",{className:"taskName",children:e.taskName}),Object(S.jsx)("h4",{className:"taskDate",children:h})]}),Object(S.jsx)("button",{className:"doneBtn",onClick:function(){return c(O())},children:e.isDone?Object(S.jsx)(j.a,{}):Object(S.jsx)(l.a,{})}),Object(S.jsx)("button",{className:"editBtn",onClick:function(){return s.push("/edit-task/".concat(e.id))},children:Object(S.jsx)(r.a,{})}),Object(S.jsx)("button",{className:"deleteBtn",onClick:function(){c(L("attemptDelete",e.id)),c(x("Do you want to delete this task")),c(k(!0))},children:Object(S.jsx)(d.a,{})})]})},w=a(53),I=a(22),E=function(t){var e=t.tasks,a=t.toastSuccess,n=t.toastWarning,s=e.filter((function(t){return!0===t.isDone})),c=e.filter((function(t){return!1===t.isDone}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{children:"Task Manager by React"}),Object(S.jsxs)("div",{className:"header-content",children:[Object(S.jsxs)("div",{className:"statistics-area",children:[Object(S.jsxs)("div",{className:"statistics",onClick:function(){return document.getElementById("doneTasks").scrollIntoView({behavior:"smooth"})},children:[Object(S.jsx)("div",{className:"header-item",children:s.length}),Object(S.jsx)("span",{className:"statistics-text",children:"Completed"})]}),Object(S.jsxs)("div",{className:"statistics",onClick:function(){return document.getElementById("todoTasks").scrollIntoView({behavior:"smooth"})},children:[Object(S.jsx)("div",{className:"header-item",children:c.length}),Object(S.jsx)("span",{className:"statistics-text",children:"Ongoing"})]})]}),Object(S.jsx)("button",{className:"header-item header-btn",children:Object(S.jsxs)(I.b,{to:"/add-task",children:[Object(S.jsx)("span",{children:"Add"})," ",Object(S.jsx)(w.a,{})]})})]})]}),Object(S.jsx)("main",{children:Object(S.jsxs)("div",{className:"home",children:[Object(S.jsxs)("div",{id:"todoTasks",children:[Object(S.jsx)("h2",{children:"Ongoing tasks: "}),c.map((function(t){return Object(S.jsx)(T,{task:t,toastSuccess:a,toastWarning:n},t.id)}))]}),Object(S.jsxs)("div",{id:"doneTasks",children:[Object(S.jsx)("h2",{children:"Completed tasks: "}),s.map((function(t){return Object(S.jsx)(T,{task:t,toastSuccess:a,toastWarning:n},t.id)}))]})]})})]})},A=a(200),F=function(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.modalState.isLoading})),a=Object(o.c)((function(t){return t.modalState.isVisible})),n=Object(o.c)((function(t){return t.modalState.modalContent})),s=Object(o.c)((function(t){return t.taskState.deleteID}));return Object(S.jsx)(A.a,{visible:a,confirmLoading:e,onOk:function(){t((function(t){return function(t){return C.a.delete("https://test-heroku444.herokuapp.com/tasks/".concat(t))}(s).then((function(){t(L("confirmDelete",s)),t(g(!0)),t(k(!1))}))}))},onCancel:function(){t(k(!1))},children:Object(S.jsx)("p",{className:"modalContent",children:n})})},M=a(32),_=a(63),B=a.n(_),G=(a(96),a(150)),P=function(t){var e=t.toggleLoading,a=t.toastSuccess,s=t.toastError,c=Object(o.b)(),i=(Object(u.f)(),Object(n.useState)("")),r=Object(M.a)(i,2),d=r[0],l=r[1],j=Object(n.useState)(null),b=Object(M.a)(j,2),h=b[0],O=b[1];function m(){e(!0);var t={taskName:d,taskDate:h,isDone:!1};return function(n){return(s=t,C.a.post("https://test-heroku444.herokuapp.com/tasks",s)).then((function(t){n(v(t.data)),l(""),O(""),e(!1),a("Task added successfully")}));var s}}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{children:"Add task"}),Object(S.jsx)("div",{className:"header-content",children:Object(S.jsx)("button",{className:"header-item header-btn",children:Object(S.jsx)(I.b,{to:"/",children:Object(S.jsx)("span",{children:"Back"})})})})]}),Object(S.jsxs)("main",{children:[Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"taskName",children:"Add task:"}),Object(S.jsx)("input",{type:"text",id:"taskName",value:d,onChange:function(t){l(t.target.value)}})]}),Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"taskDate",children:"Task date:"}),Object(S.jsx)(B.a,{dateFormat:"dd/MM/yyyy",selected:h,onChange:function(t){O(t)},minDate:Object(G.default)(new Date,0)})]}),Object(S.jsx)("button",{onClick:function(){""!==d&&null!==h?c(m()):s("Please fill in both fields")},className:"confirm-btn blue-text-btn btn",children:"Confirm"})]})]})},U=a.p+"static/media/react-logo-min.90175bd1.png",V=function(t){var e=t.isLoading;return Object(S.jsx)("div",{className:"loading ".concat(e?"show":""),children:Object(S.jsx)("img",{src:U,alt:"loading"})})},W=a(187),K=function(t){var e=t.toggleLoading,a=t.toastSuccess,s=t.toastError,c=Object(o.b)(),i=Object(u.g)().id,r=(Object(u.f)(),Object(n.useState)("")),d=Object(M.a)(r,2),l=d[0],j=d[1],b=Object(n.useState)(null),h=Object(M.a)(b,2),O=h[0],m=h[1];Object(n.useEffect)((function(){e(!0),C.a.get("https://test-heroku444.herokuapp.com/tasks/".concat(i)).then((function(t){j(t.data.taskName),m(Object(W.default)(t.data.taskDate)),e(!1)}))}),[]);function f(){e(!0);var t={taskName:l,taskDate:O};return function(n){return(s=t,C.a.patch("https://test-heroku444.herokuapp.com/tasks/".concat(i),s)).then((function(t){n(N(t.data)),e(!1),a("Task edited successfully")}));var s}}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{children:"Edit task"}),Object(S.jsx)("div",{className:"header-content",children:Object(S.jsx)("button",{className:"header-item header-btn",children:Object(S.jsx)(I.b,{to:"/",children:Object(S.jsx)("span",{children:"Back"})})})})]}),Object(S.jsxs)("main",{children:[Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"taskName",children:"Edit task:"}),Object(S.jsx)("input",{type:"text",id:"taskName",value:l,onChange:function(t){j(t.target.value)}})]}),Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"taskDate",children:"Task date:"}),Object(S.jsx)(B.a,{dateFormat:"dd/MM/yyyy",selected:O,onChange:function(t){m(t)},minDate:Object(G.default)(new Date,0)})]}),Object(S.jsx)("button",{onClick:function(){""!==l&&null!==O?c(f()):s("Please fill in both fields")},className:"confirm-btn blue-text-btn btn",children:"Confirm"})]})]})},R=a(47),H=(a(189),function(t){var e=t.toastSuccess,a=t.toastError,s=Object(u.f)(),c=Object(o.b)(),i=Object(o.c)((function(t){return t.appState.apiUrl})),r=Object(n.useState)("Login"),d=Object(M.a)(r,2),l=d[0],j=d[1],b=Object(n.useState)(""),h=Object(M.a)(b,2),O=h[0],p=h[1],x=Object(n.useState)(""),k=Object(M.a)(x,2),g=k[0],v=k[1],N=Object(n.useState)(!1),y=Object(M.a)(N,2),L=y[0],D=y[1],T=function(){c(m(!0));var t={username:O,password:g};return function(n){return function(t,e){return C.a.post(t+"/login",e)}(i,t).then((function(t){n(f(t.data)),e("Welcome back, ".concat(t.data.username,". Redirecting..."),{onClose:function(){return s.push("/")}}),D(!0)})).catch((function(t){a(t.response.data.message)})).finally((function(){c(m(!1))}))}},w=function(){c(m(!0));var t={username:O,password:g};return function(n){return function(t,e){return C.a.post(t+"/register",e)}(i,t).then((function(t){console.log(t.data),n(f(t.data)),e("Welcome, ".concat(t.data.username,". Redirecting..."),{onClose:function(){return s.push("/")}}),D(!0)})).catch((function(t){a(t.response.data.message)})).finally((function(){c(m(!1))}))}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{children:"Task Manager by React"}),Object(S.jsx)("h2",{children:"Login"===l?"Log in":"Sign up"})]}),Object(S.jsxs)("main",{className:"login-page",children:[Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(S.jsx)("input",{type:"text",id:"username",placeholder:"demo: user",onChange:function(t){p(t.target.value)}})]}),Object(S.jsxs)("div",{className:"form-item",children:[Object(S.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(S.jsx)("input",{type:"text",id:"password",placeholder:"demo: 123",onChange:function(t){v(t.target.value)}})]}),Object(S.jsx)("button",{onClick:function(){"Login"===l?L?console.log("blocked"):c(T()):L?console.log("blocked"):c(w())},className:"confirm-btn blue-text-btn btn",children:"Login"===l?"Log in":"Sign up"}),Object(S.jsxs)("p",{className:"sign-up-text",children:["Login"===l?"Don't have an account yet?":"Have an account?",Object(S.jsx)("span",{className:"sign-up",onClick:function(){j("Login"===l?"Signup":"Login")},children:"Login"===l?" Sign up now!":" Back to log in"})]})]})]})}),J=function(){return Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsxs)(I.c,{to:"/",exact:!0,className:"flex-center",activeClassName:"active-tab",children:[Object(S.jsx)("span",{className:"desktop",children:"Home"})," ",Object(S.jsx)(r.b,{})]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(I.c,{to:"/add-task",className:"flex-center",activeClassName:"active-tab",children:[Object(S.jsxs)("span",{className:"desktop",children:["Add ",Object(S.jsx)(w.a,{})]}),Object(S.jsx)(w.a,{})]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(I.c,{to:"/profile",className:"flex-center",activeClassName:"active-tab",children:[Object(S.jsx)("span",{className:"desktop",children:"profile"})," ",Object(S.jsx)(r.c,{})]})})]})})},z=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("header",{children:Object(S.jsx)("h1",{children:"Task Manager by React"})}),Object(S.jsx)("main",{})]})};var Z=function(){var t=function(t,e){return R.c.success(t,e)},e=function(t){return R.c.error(t)},a=Object(o.b)(),s=Object(o.c)((function(t){return t.loadingState.isLoading})),c=function(t){a(m(t))},i=Object(o.c)((function(t){return t.taskState.taskList}));function r(){return function(t){return C.a.get("https://test-heroku444.herokuapp.com/tasks").then((function(e){return t(function(t){return{type:h,payload:{taskList:t}}}(e.data))}))}}return Object(n.useEffect)((function(){c(!0),a(r()),c(!1)}),[]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(J,{}),Object(S.jsx)(V,{isLoading:s}),Object(S.jsx)(R.b,{transition:R.a,className:"customizedToast",position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1}),Object(S.jsx)(F,{}),Object(S.jsxs)(u.c,{children:[Object(S.jsx)(u.a,{path:"/login",children:Object(S.jsx)(H,{toastSuccess:t,toastError:e})}),Object(S.jsx)(u.a,{path:"/profile",children:Object(S.jsx)(z,{})}),Object(S.jsx)(u.a,{path:"/add-task",children:Object(S.jsx)(P,{toggleLoading:c,toastSuccess:t,toastError:e})}),Object(S.jsx)(u.a,{path:"/edit-task/:id",children:Object(S.jsx)(K,{toggleLoading:c,toastSuccess:t,toastError:e})}),Object(S.jsx)(u.a,{path:"/",children:Object(S.jsx)(E,{tasks:i,toastSuccess:t,toastWarning:function(t){return R.c.warn(t)}})})]})]})},q=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),s(t),c(t),i(t)}))},Q=a(19),X=a(40),Y=Object(O.b)({taskList:[],deleteID:null},(function(t){t.addCase(h,(function(t,e){t.taskList=e.payload.taskList})).addCase("ADD_TASK",(function(t,e){t.taskList.push(e.payload.newTask)})).addCase(N,(function(t,e){t.taskList=t.taskList.map((function(t){return t.id===e.payload.editedTask.id?Object(X.a)(Object(X.a)({},t),{},{taskName:e.payload.editedTask.taskName,taskDate:e.payload.editedTask.taskDate,isDone:e.payload.editedTask.isDone}):t}))})).addCase(y,(function(t,e){t.taskList=t.taskList.map((function(t){return t.id===e.payload.completeTask.id?Object(X.a)(Object(X.a)({},t),{},{isDone:e.payload.completeTask.isDone}):t}))})).addCase(L,(function(t,e){"attemptDelete"===e.payload.mode?t.deleteID=e.payload.deleteId:"confirmDelete"===e.payload.mode&&(t.taskList=t.taskList.filter((function(e){return e.id!==t.deleteID})))}))})),$=Object(O.b)({modalContent:"",isVisible:!1,isLoading:!1},(function(t){t.addCase(x,(function(t,e){t.modalContent=e.payload.content})).addCase(k,(function(t,e){t.isVisible=e.payload.isVisible})).addCase(g,(function(t,e){t.isLoading=e.payload.isLoading}))})),tt=Object(O.b)({apiUrl:"https://rest-api-v2.herokuapp.com",currentUser:{username:"",password:"",token:"",tasks:[]}},(function(t){t.addCase(f,(function(t,e){t.currentUser=e.payload.userInput})).addCase(p,(function(t){t.currentUser={username:"",password:"",token:"",tasks:[]}}))})),et=Object(Q.combineReducers)({appState:tt,loadingState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(X.a)(Object(X.a)({},t),{},{isLoading:e.payload.status});default:return t}},taskState:Y,modalState:$}),at=a(113),nt=[a(51).a],st=Object(Q.createStore)(et,Object(at.composeWithDevTools)(Q.applyMiddleware.apply(void 0,nt)));i.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(I.a,{children:Object(S.jsx)(o.a,{store:st,children:Object(S.jsx)(Z,{})})})}),document.getElementById("root")),q()}},[[191,1,2]]]);
//# sourceMappingURL=main.1ad4a25e.chunk.js.map